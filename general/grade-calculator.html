<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Grade Calculator</title>
  <link rel="stylesheet" href="../assets/styles.css">
</head>
<body>
  <h2>General Grade Calculator</h2>
  <p>Enter up to 8 course grades (0â€“100):</p>
  <div id="inputs">
    <input type="number" id="g1" placeholder="Course 1" min="0" max="100">
    <input type="number" id="g2" placeholder="Course 2" min="0" max="100">
    <input type="number" id="g3" placeholder="Course 3" min="0" max="100">
    <input type="number" id="g4" placeholder="Course 4" min="0" max="100">
    <input type="number" id="g5" placeholder="Course 5" min="0" max="100">
    <input type="number" id="g6" placeholder="Course 6" min="0" max="100">
    <input type="number" id="g7" placeholder="Course 7" min="0" max="100">
    <input type="number" id="g8" placeholder="Course 8" min="0" max="100">
    <button onclick="calculateAverage()">Calculate Average</button>
  </div>
  <p id="output"></p>

  <script>
    // NEW: Add event listeners for real-time validation
    document.addEventListener('DOMContentLoaded', () => {
      for (let i = 1; i <= 8; i++) {
        const input = document.getElementById('g' + i);
        if (input) {
          input.addEventListener('input', () => {
            const grade = parseFloat(input.value);
            if (input.value !== '' && (grade < 0 || grade > 100)) {
              input.classList.add('invalid-input');
            } else {
              input.classList.remove('invalid-input');
            }
          });
        }
      }
    });

    function calculateAverage() {
      let sum = 0, count = 0, invalid = false;
      for (let i = 1; i <= 8; i++) {
        const input = document.getElementById('g' + i);
        const grade = parseFloat(input.value);
        if (!isNaN(grade)) {
          if (grade < 0 || grade > 100) {
            invalid = true;
            break;
          }
          sum += grade;
          count++;
        }
      }

      const output = document.getElementById('output');
      if (invalid) {
        output.textContent = "Please enter grades only between 0 and 100.";
      } else {
        output.textContent = count > 0
          ? "Overall Average: " + (sum / count).toFixed(1) + "%"
          : "Enter at least one grade.";
      }
    }
  </script>
</body>
</html>